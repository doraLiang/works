<!DOCTYPE html>
<html>
<head>
    <title>d倒计时</title>
    <script type="text/javascript" src="js/jquery.min.js"></script>
    <meta charset="utf-8">
    <script>
        window.onload=function(){
            showTime();
            countdownDay();
            timeOut();
            timeOutMo();
        }
        function checkTime(i){
            if(i<10){
                i='0'+i;
            }
            return i;
        }
        function showTime(){
            var date=new Date();
            var year=date.getFullYear();
            var month=date.getMonth()+1;
            var day=date.getDate();
            var week=date.getDay();
            var h=date.getHours();
            var m=checkTime(date.getMinutes());
            var s=checkTime(date.getSeconds());
            var weekArr=new Array('星期日','星期一','星期二','星期三','星期四','星期五','星期六');
            document.getElementById('showTime').innerHTML = year+'年'+month+'月'+day+'日'+weekArr[week]+h+':'+m+':'+s ;
            setTimeout(showTime,500);
        }

        function countdownDay(){
            var start_date=new Date();
            var end_date=new Date('2016/4/27');
            var differ_time= Math.ceil((end_date.getTime()- start_date.getTime())/(24*60*60*1000));
            document.getElementById('countdownDay').innerHTML  =   differ_time +'天';
        }

        function timeOut(){
            var start_date=new Date();
            var end_date=new Date('2016/4/27,24:00:00');
            var differ_time= parseInt((end_date.getTime()- start_date.getTime())/1000);
            var d=parseInt(differ_time/(24*60*60));
            var h=parseInt(differ_time/(60*60)%24);
            var m=checkTime(parseInt(differ_time/60%60));
            var s=checkTime(parseInt(differ_time%60));
            document.getElementById('timeOut').innerHTML =d+'天'+h+'小时'+m+'分钟'+s+'秒' ;
            if(differ_time<=0){
                document.getElementById('timeOutMo').innerHTML='活动已结束'
            }
            setTimeout(timeOut,500);
        }
        function timeOutMo(){
            var start_date=new Date();
            var end_date=new Date('2016/4/24,15:00:00');
            var differ_time= parseInt((end_date.getTime()- start_date.getTime())/1000);
            var d=parseInt(differ_time/(24*60*60));//计算天数
            var h=parseInt(differ_time/(60*60)%24);//计算小时
            var m=checkTime(parseInt(differ_time/60%60));//计算分钟
            var s=checkTime(parseInt(differ_time%60));//计算秒
//            document.getElementById('timeOut').innerHTML =d+'天'+h+'小时'+m+'分钟'+s+'秒' ;
            document.getElementById('one').innerHTML =parseInt(h/10) ;//获取小时十位数的值
            document.getElementById('two').innerHTML =parseInt(h%10) ;//获取小时个位数的值
            document.getElementById('three').innerHTML =parseInt(m/10) ;
            document.getElementById('four').innerHTML =parseInt(m%10) ;
            document.getElementById('five').innerHTML =parseInt(s/10) ;
            document.getElementById('six').innerHTML =parseInt(s%10) ;
            if(differ_time<=0){
                document.getElementById('timeOutMo').innerHTML='活动已结束'
            }
            setTimeout(timeOutMo,500);
        }

    </script>
</head>
<body>
<p id='showTime'></p>
<p id='countdownDay'></p>
<p id='timeOut'></p>
<p id='timeOutMo'>
    <span id="one"></span>
    <span id="two"></span> :
    <span id="three"></span>
    <span id="four"></span>  :
    <span id="five"></span>
    <span id="six"></span>
</p>
</body>
</html>